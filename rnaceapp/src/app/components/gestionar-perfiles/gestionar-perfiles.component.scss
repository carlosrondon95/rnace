// Gestionar Perfiles - Mobile First
// Panel de administración de usuarios elegante

:host {
  display: block;
  min-height: 100vh;
  // Padding is now handled by .page-container in HTML
}

.perfiles-page {
  max-width: var(--max-width-wide);
  margin: 0 auto;
}

// ============ HEADER ============
// ============ HEADER ============
// Header and btn-volver styles now in global styles.css

// ============ MENSAJES ============
.mensaje-error {
  display: flex;
  align-items: center;
  gap: var(--space-sm);
  padding: var(--space-md);
  background: var(--color-danger-soft);
  border: 1px solid var(--color-danger-border);
  border-radius: var(--radius-md);
  color: var(--color-danger);
  font-size: var(--font-size-sm);
  margin-bottom: var(--space-md);

  .material-symbols-rounded {
    font-size: 1.2rem;
  }
}

// ============ LOADING STATE ============
.loading-state {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: var(--space-2xl);
  color: var(--color-text-muted);

  .spinner {
    width: 40px;
    height: 40px;
    border: 3px solid var(--color-border);
    border-top-color: var(--color-accent);
    border-radius: 50%;
    animation: spin 0.8s linear infinite;
  }

  p {
    margin-top: var(--space-md);
    font-size: var(--font-size-sm);
  }
}

@keyframes spin {
  to {
    transform: rotate(360deg);
  }
}

// ============ BARRA DE ACCIONES ============
.acciones-bar {
  display: flex;
  gap: var(--space-sm);
  margin-bottom: var(--space-md);
  flex-wrap: wrap;

  @media (max-width: 479px) {
    flex-direction: column;
  }
}

.busqueda-container {
  flex: 1;
  min-width: 200px;
  position: relative;

  .search-icon {
    position: absolute;
    left: var(--space-md);
    top: 50%;
    transform: translateY(-50%);
    font-size: 1.2rem;
    color: var(--color-text-muted);
    pointer-events: none;
  }
}

.input-busqueda {
  width: 100%;
  padding: var(--space-sm) var(--space-md);
  padding-left: calc(var(--space-md) + 28px);
  background: var(--color-bg-elevated);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-lg);
  font-size: var(--font-size-sm);
  color: var(--color-text-primary);
  transition: all var(--transition-fast);

  &::placeholder {
    color: var(--color-text-muted);
  }

  &:focus {
    outline: none;
    border-color: var(--color-accent);
    box-shadow: 0 0 0 3px var(--color-accent-soft);
  }
}

.btn-nuevo {
  display: inline-flex;
  align-items: center;
  gap: var(--space-xs);
  padding: var(--space-sm) var(--space-md);
  background: var(--color-accent);
  color: var(--color-bg-deep);
  border: none;
  border-radius: var(--radius-md);
  font-size: var(--font-size-sm);
  font-weight: 500;
  cursor: pointer;
  transition: opacity var(--transition-fast);
  white-space: nowrap;

  .material-symbols-rounded {
    font-size: 1.1rem;
  }

  &:hover {
    opacity: 0.9;
  }
}

// ============ FILTROS ============
.filtros-bar {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  gap: var(--space-sm);
  margin-bottom: var(--space-lg);
}

.filtro-group {
  display: flex;
  align-items: center;
  gap: var(--space-xs);
}

.filtro-label {
  font-size: var(--font-size-xs);
  color: var(--color-text-muted);
  white-space: nowrap;
}

.filtro-select {
  padding: var(--space-sm) var(--space-md);
  background: var(--color-bg-elevated);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  font-size: var(--font-size-sm);
  color: var(--color-text-primary);
  cursor: pointer;
  transition: all var(--transition-fast);

  &:focus {
    outline: none;
    border-color: var(--color-accent);
  }

  option {
    background: var(--color-bg-elevated);
    color: var(--color-text-primary);
  }
}

.btn-limpiar-filtros {
  display: inline-flex;
  align-items: center;
  gap: var(--space-xs);
  padding: var(--space-sm) var(--space-md);
  background: transparent;
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  font-size: var(--font-size-sm);
  color: var(--color-text-muted);
  cursor: pointer;
  transition: all var(--transition-fast);

  .material-symbols-rounded {
    font-size: 1rem;
  }

  &:hover {
    border-color: var(--color-danger);
    color: var(--color-danger);
  }
}

.resultados-count {
  margin-left: auto;
  font-size: var(--font-size-sm);
  color: var(--color-text-muted);
}

// ============ LISTA DE USUARIOS ============
.usuarios-lista {
  display: flex;
  flex-direction: column;
  gap: var(--space-sm);
}

// ============ CARD DE USUARIO ============
.usuario-card {
  display: flex;
  align-items: center;
  gap: var(--space-md);
  background: var(--color-bg-elevated);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-lg);
  padding: var(--space-md);
  transition: all var(--transition-base);

  &:hover {
    border-color: var(--color-border-hover);
  }

  &.usuario-inactivo {
    opacity: 0.6;
  }

  @media (max-width: 479px) {
    flex-wrap: wrap;
  }
}

.usuario-avatar {
  width: 48px;
  height: 48px;
  border-radius: var(--radius-full);
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;

  .material-symbols-rounded {
    font-size: 1.4rem;
  }

  &.avatar-focus {
    background: var(--color-focus-soft);
    color: var(--color-focus);
  }

  &.avatar-reducido {
    background: var(--color-reducido-soft);
    color: var(--color-reducido);
  }

  &.avatar-hibrido {
    background: var(--color-hibrido-soft);
    color: var(--color-hibrido);
  }

  &.avatar-especial {
    background: var(--color-especial-soft);
    color: var(--color-especial);
  }

  &.avatar-sin-plan {
    background: var(--color-bg-main);
    color: var(--color-text-muted);
  }
}

.usuario-info {
  flex: 1;
  min-width: 0;
}

.usuario-header {
  display: flex;
  align-items: center;
  gap: var(--space-sm);
  flex-wrap: wrap;
  margin-bottom: var(--space-xs);
}

.usuario-nombre {
  font-size: var(--font-size-md);
  font-weight: 600;
  color: var(--color-text-primary);
}

.usuario-rol {
  font-size: var(--font-size-xs);
  font-weight: 500;
  padding: 2px 8px;
  border-radius: var(--radius-full);

  &.rol-cliente {
    background: var(--color-info-soft);
    color: var(--color-info);
  }

  &.rol-profesor {
    background: var(--color-reducido-soft);
    color: var(--color-reducido);
  }

  &.rol-admin {
    background: var(--color-danger-soft);
    color: var(--color-danger);
  }
}

.badge-inactivo {
  font-size: var(--font-size-xs);
  font-weight: 500;
  padding: 2px 8px;
  background: var(--color-danger-soft);
  color: var(--color-danger);
  border-radius: var(--radius-full);
}

.usuario-telefono {
  display: flex;
  align-items: center;
  gap: var(--space-xs);
  font-size: var(--font-size-sm);
  color: var(--color-text-muted);
  margin-bottom: var(--space-xs);

  .material-symbols-rounded {
    font-size: 1rem;
  }
}

.usuario-plan {
  margin-bottom: var(--space-xs);
}

.plan-badge {
  font-size: var(--font-size-xs);
  font-weight: 500;
  padding: 2px 8px;
  border-radius: var(--radius-full);
  text-transform: capitalize;

  &.plan-focus {
    background: var(--color-focus-soft);
    color: var(--color-focus);
  }

  &.plan-reducido {
    background: var(--color-reducido-soft);
    color: var(--color-reducido);
  }

  &.plan-hibrido {
    background: var(--color-hibrido-soft);
    color: var(--color-hibrido);
  }

  &.plan-especial {
    background: var(--color-especial-soft);
    color: var(--color-especial);
  }
}

.usuario-horarios {
  display: flex;
  align-items: center;
  gap: var(--space-xs);
  font-size: var(--font-size-xs);
  color: var(--color-text-muted);

  .material-symbols-rounded {
    font-size: 1rem;
  }
}

.usuario-acciones {
  display: flex;
  gap: var(--space-xs);
  flex-shrink: 0;
}

.btn-accion {
  width: 36px;
  height: 36px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: transparent;
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  color: var(--color-text-muted);
  cursor: pointer;
  transition: all var(--transition-fast);

  .material-symbols-rounded {
    font-size: 1.1rem;
  }

  &.btn-editar:hover {
    border-color: var(--color-accent);
    color: var(--color-accent);
  }

  &.btn-eliminar:hover {
    border-color: var(--color-danger);
    color: var(--color-danger);
    background: var(--color-danger-soft);
  }
}

// ============ EMPTY STATE ============
.empty-state {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: var(--space-2xl) var(--space-md);
  text-align: center;

  .material-symbols-rounded {
    font-size: 4rem;
    color: var(--color-text-muted);
    opacity: 0.5;
    margin-bottom: var(--space-md);
  }

  p {
    font-size: var(--font-size-sm);
    color: var(--color-text-muted);
    margin: 0;
  }
}

// ============ MODAL ============
.modal-overlay {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.7);
  backdrop-filter: blur(4px);
  z-index: var(--z-modal);
  display: flex;
  align-items: center;
  justify-content: center;
  padding: var(--space-md);
  animation: fadeIn 0.2s ease;
}

.modal-backdrop {
  position: absolute;
  inset: 0;
}

.modal-content {
  position: relative;
  background: var(--color-bg-elevated);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-xl);
  width: 100%;
  max-height: 90vh;
  overflow-y: auto;
  animation: scaleIn 0.25s ease;

  &.modal-grande {
    max-width: 600px;
  }

  &.modal-pequeño {
    max-width: 400px;
  }
}

.modal-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: var(--space-lg);
  border-bottom: 1px solid var(--color-border);
  position: sticky;
  top: 0;
  background: var(--color-bg-elevated);
  z-index: 1;

  h2 {
    font-size: var(--font-size-lg);
    font-weight: 600;
    color: var(--color-text-primary);
    margin: 0;
  }

  &.modal-header-danger h2 {
    color: var(--color-danger);
  }
}

.btn-cerrar {
  width: 32px;
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: transparent;
  border: none;
  color: var(--color-text-muted);
  cursor: pointer;
  border-radius: var(--radius-md);
  transition: all var(--transition-fast);

  &:hover {
    background: var(--color-bg-main);
    color: var(--color-text-primary);
  }

  .material-symbols-rounded {
    font-size: 1.3rem;
  }
}

.modal-body {
  padding: var(--space-lg);
}

.modal-footer {
  padding: var(--space-md) var(--space-lg);
  border-top: 1px solid var(--color-border);
  display: flex;
  gap: var(--space-sm);
  justify-content: flex-end;
  position: sticky;
  bottom: 0;
  background: var(--color-bg-elevated);

  @media (max-width: 479px) {
    flex-direction: column;
  }
}

// ============ MENSAJES MODAL ============
.mensaje-error-modal {
  display: flex;
  align-items: center;
  gap: var(--space-sm);
  padding: var(--space-md);
  background: var(--color-danger-soft);
  border: 1px solid var(--color-danger-border);
  border-radius: var(--radius-md);
  color: var(--color-danger);
  font-size: var(--font-size-sm);
  margin-bottom: var(--space-md);

  .material-symbols-rounded {
    font-size: 1.2rem;
  }
}

.mensaje-exito-modal {
  display: flex;
  align-items: center;
  gap: var(--space-sm);
  padding: var(--space-md);
  background: var(--color-success-soft);
  border: 1px solid var(--color-success-border);
  border-radius: var(--radius-md);
  color: var(--color-success);
  font-size: var(--font-size-sm);
  margin-bottom: var(--space-md);

  .material-symbols-rounded {
    font-size: 1.2rem;
  }
}

// ============ FORMULARIO ============
.form-section {
  margin-bottom: var(--space-lg);

  &:last-child {
    margin-bottom: 0;
  }
}

.section-title {
  font-size: var(--font-size-sm);
  font-weight: 600;
  color: var(--color-text-primary);
  margin: 0 0 var(--space-md);
  padding-bottom: var(--space-xs);
  border-bottom: 1px solid var(--color-border);
}

.form-row {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: var(--space-md);
  margin-bottom: var(--space-md);

  @media (max-width: 479px) {
    grid-template-columns: 1fr;
  }

  // Los form-group dentro de form-row no necesitan margin-bottom
  // porque el gap del grid ya proporciona el espaciado
  .form-group {
    margin-bottom: 0;
  }

  &:last-child {
    margin-bottom: 0;
  }
}

.form-group {
  margin-bottom: var(--space-md);

  &:last-child {
    margin-bottom: 0;
  }

  &.grow {
    flex: 1;
  }
}

.form-label {
  display: block;
  font-size: var(--font-size-sm);
  font-weight: 500;
  color: var(--color-text-secondary);
  margin-bottom: var(--space-xs);

  &.visually-hidden {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    border: 0;
  }
}

.form-input,
.form-select {
  width: 100%;
  padding: var(--space-sm) var(--space-md);
  background: var(--color-bg-main);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  font-size: var(--font-size-sm);
  color: var(--color-text-primary);
  transition: all var(--transition-fast);

  &::placeholder {
    color: var(--color-text-muted);
  }

  &:focus {
    outline: none;
    border-color: var(--color-accent);
    box-shadow: 0 0 0 3px var(--color-accent-soft);
  }
}

.form-select {
  cursor: pointer;

  option {
    background: var(--color-bg-elevated);
    color: var(--color-text-primary);
  }
}

// ============ PASSWORD ROW ============
.password-row {
  display: flex;
  gap: var(--space-xs);
  align-items: stretch;

  .form-group {
    margin-bottom: 0;
  }
}

.btn-generar,
.btn-copiar {
  display: flex;
  align-items: center;
  gap: var(--space-xs);
  padding: var(--space-sm) var(--space-md);
  background: var(--color-bg-main);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  color: var(--color-text-secondary);
  font-size: var(--font-size-sm);
  cursor: pointer;
  transition: all var(--transition-fast);
  white-space: nowrap;

  .material-symbols-rounded {
    font-size: 1.1rem;
  }

  &:hover {
    border-color: var(--color-accent);
    color: var(--color-accent);
  }

  &.copiada {
    border-color: var(--color-success);
    color: var(--color-success);
  }
}

// ============ HORARIOS SELECTOR ============
.horarios-selector {
  background: var(--color-bg-main);
  border-radius: var(--radius-md);
  padding: var(--space-md);
}

.horarios-help {
  font-size: var(--font-size-xs);
  color: var(--color-text-muted);
  margin: var(--space-xs) 0 var(--space-md);
}

.horarios-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: var(--space-sm);

  @media (max-width: 600px) {
    grid-template-columns: repeat(3, 1fr);
  }

  @media (max-width: 400px) {
    grid-template-columns: repeat(2, 1fr);
  }
}

.dia-column {
  display: flex;
  flex-direction: column;
  gap: var(--space-xs);
}

.dia-header {
  font-size: var(--font-size-xs);
  font-weight: 600;
  color: var(--color-text-muted);
  text-transform: uppercase;
  text-align: center;
  padding-bottom: var(--space-xs);
  border-bottom: 1px solid var(--color-border);
}

.horarios-dia {
  display: flex;
  flex-direction: column;
  gap: var(--space-xs);
}

.horario-chip {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-xs);
  padding: var(--space-sm);
  background: var(--color-bg-elevated);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  font-size: var(--font-size-xs);
  color: var(--color-text-secondary);
  cursor: pointer;
  transition: all var(--transition-fast);

  &:hover {
    border-color: var(--color-accent);
  }

  &.seleccionado {
    background: var(--color-accent);
    border-color: var(--color-accent);
    color: var(--color-bg-deep);
  }

  &.chip-focus:not(.seleccionado) {
    border-color: var(--color-focus-border);
  }

  &.chip-reducido:not(.seleccionado) {
    border-color: var(--color-reducido-border);
  }
}

.horario-hora {
  font-weight: 500;
}

.horario-tipo {
  font-size: 9px;
  opacity: 0.7;
}

.horarios-resumen {
  display: flex;
  align-items: center;
  gap: var(--space-sm);
  margin-top: var(--space-md);
  padding-top: var(--space-md);
  border-top: 1px solid var(--color-border);
  font-size: var(--font-size-sm);
  color: var(--color-text-secondary);

  .material-symbols-rounded {
    font-size: 1.1rem;
    color: var(--color-accent);
  }
}

// ============ VISTA TOGGLE (Especial) ============
.vista-toggle {
  display: flex;
  gap: var(--space-xs);
  margin: var(--space-md) 0;
  padding: 4px;
  background: var(--color-bg-elevated);
  border-radius: var(--radius-md);
  width: fit-content;
}

.btn-toggle {
  padding: var(--space-sm) var(--space-md);
  background: transparent;
  border: none;
  border-radius: var(--radius-sm);
  font-size: var(--font-size-sm);
  font-weight: 500;
  color: var(--color-text-muted);
  cursor: pointer;
  transition: all var(--transition-fast);

  &:hover {
    color: var(--color-text-primary);
  }

  &.activo {
    background: var(--color-accent);
    color: var(--color-bg-deep);
  }
}

// ============ CALENDARIO ASIGNACIÓN ============
.calendario-asignacion {
  margin-top: var(--space-md);
}

.calendario-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: var(--space-md);
}

.mes-titulo {
  font-size: var(--font-size-md);
  font-weight: 600;
  color: var(--color-text-primary);
}

.btn-nav {
  width: 32px;
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--color-bg-elevated);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  color: var(--color-text-secondary);
  cursor: pointer;
  transition: all var(--transition-fast);

  &:hover {
    border-color: var(--color-accent);
    color: var(--color-accent);
  }

  .material-symbols-rounded {
    font-size: 1.2rem;
  }
}

.filtro-modalidad {
  display: flex;
  align-items: center;
  gap: var(--space-sm);
  margin-bottom: var(--space-md);
  font-size: var(--font-size-sm);
  color: var(--color-text-secondary);

  select {
    padding: var(--space-xs) var(--space-sm);
    background: var(--color-bg-elevated);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-sm);
    font-size: var(--font-size-sm);
    color: var(--color-text-primary);
    cursor: pointer;

    &:focus {
      outline: none;
      border-color: var(--color-accent);
    }
  }
}

.spinner-container {
  display: flex;
  justify-content: center;
  padding: var(--space-xl);
}

.calendario-grid {
  background: var(--color-bg-elevated);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  overflow: hidden;
}

.dias-header {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  background: var(--color-bg-main);
  border-bottom: 1px solid var(--color-border);

  span {
    padding: var(--space-sm);
    text-align: center;
    font-size: var(--font-size-xs);
    font-weight: 600;
    color: var(--color-text-muted);
    text-transform: uppercase;
  }
}

.dias-body {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
}

.dia-cell {
  min-height: 80px;
  padding: var(--space-xs);
  border-right: 1px solid var(--color-border);
  border-bottom: 1px solid var(--color-border);
  background: var(--color-bg-elevated);
  transition: background var(--transition-fast);

  &:nth-child(7n) {
    border-right: none;
  }

  &:hover:not(.pasado):not(.vacio) {
    background: var(--color-bg-main);
  }

  &.pasado {
    background: var(--color-bg-main);
    opacity: 0.5;
  }

  &.vacio {
    background: var(--color-bg-main);
  }
}

.dia-numero {
  display: block;
  font-size: var(--font-size-xs);
  font-weight: 600;
  color: var(--color-text-secondary);
  margin-bottom: var(--space-xs);
}

.sesiones-list {
  display: flex;
  flex-direction: column;
  gap: 2px;
}

.sesion-pill {
  width: 100%;
  padding: 4px 6px;
  background: var(--color-bg-main);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-sm);
  font-size: 10px;
  font-weight: 500;
  color: var(--color-text-secondary);
  cursor: pointer;
  transition: all var(--transition-fast);
  text-align: center;

  &:hover {
    border-color: var(--color-accent);
    color: var(--color-accent);
  }

  &.seleccionado {
    background: var(--color-accent);
    border-color: var(--color-accent);
    color: var(--color-bg-deep);
  }
}

// ============ CHECKBOX ============
.form-check {
  display: flex;
  align-items: center;
  gap: var(--space-sm);
}

.check-input {
  width: 20px;
  height: 20px;
  accent-color: var(--color-accent);
  cursor: pointer;
}

.check-label {
  font-size: var(--font-size-sm);
  color: var(--color-text-secondary);
  cursor: pointer;
}

// ============ BOTONES MODAL ============
.btn-cancelar {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-xs);
  padding: var(--space-sm) var(--space-lg);
  background: transparent;
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  color: var(--color-text-secondary);
  font-size: var(--font-size-sm);
  font-weight: 500;
  cursor: pointer;
  transition: all var(--transition-fast);

  &:hover:not(:disabled) {
    border-color: var(--color-text-muted);
  }

  &:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }
}

.btn-guardar {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-xs);
  padding: var(--space-sm) var(--space-lg);
  background: var(--color-accent);
  border: none;
  border-radius: var(--radius-md);
  color: var(--color-bg-deep);
  font-size: var(--font-size-sm);
  font-weight: 500;
  cursor: pointer;
  transition: all var(--transition-fast);

  .material-symbols-rounded {
    font-size: 1.1rem;
  }

  &:hover:not(:disabled) {
    opacity: 0.9;
  }

  &:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }
}

.btn-eliminar {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-xs);
  padding: var(--space-sm) var(--space-lg);
  background: var(--color-danger);
  border: none;
  border-radius: var(--radius-md);
  color: white;
  font-size: var(--font-size-sm);
  font-weight: 500;
  cursor: pointer;
  transition: all var(--transition-fast);

  .material-symbols-rounded {
    font-size: 1.1rem;
  }

  &:hover:not(:disabled) {
    opacity: 0.9;
  }

  &:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }
}

// ============ ELIMINAR WARNING ============
.eliminar-warning {
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
  padding: var(--space-md);

  .warning-icon {
    font-size: 3rem;
    color: var(--color-danger);
    margin-bottom: var(--space-md);
  }

  p {
    font-size: var(--font-size-sm);
    color: var(--color-text-secondary);
    margin: 0 0 var(--space-sm);

    strong {
      color: var(--color-text-primary);
    }
  }

  .warning-sub {
    font-size: var(--font-size-xs);
    color: var(--color-text-muted);
  }
}

// ============ SPINNER ============
.spinner-small {
  width: 16px;
  height: 16px;
  border: 2px solid rgba(255, 255, 255, 0.3);
  border-top-color: currentColor;
  border-radius: 50%;
  animation: spin 0.8s linear infinite;
}

// ============ ANIMATIONS ============
@keyframes fadeIn {
  from {
    opacity: 0;
  }

  to {
    opacity: 1;
  }
}

@keyframes scaleIn {
  from {
    opacity: 0;
    transform: scale(0.96);
  }

  to {
    opacity: 1;
    transform: scale(1);
  }
}

// ============ CONFIGURACIÓN HÍBRIDA ============
.config-hibrido {
  background: var(--color-bg-input);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  padding: var(--space-md);
  margin-top: var(--space-md);
}

.hibrido-selectores {
  display: flex;
  align-items: center;
  gap: var(--space-md);
  margin-top: var(--space-sm);
  flex-wrap: wrap;
}

.hibrido-grupo {
  display: flex;
  align-items: center;
  gap: var(--space-xs);
}

.hibrido-label {
  font-size: var(--font-size-sm);
  font-weight: 500;
  color: var(--color-text-secondary);
  white-space: nowrap;
}

.hibrido-select {
  width: 70px;
}

.hibrido-separador {
  font-size: var(--font-size-lg);
  font-weight: 700;
  color: var(--color-accent);
}

.hibrido-resumen {
  margin-top: var(--space-sm);
  padding-top: var(--space-sm);
  border-top: 1px solid var(--color-border);
  font-size: var(--font-size-xs);
  color: var(--color-text-muted);
}

// Feedback Overlay - Elegant & Corporate
.feedback-overlay {
  position: fixed;
  inset: 0; // Ocupar toda la pantalla para centrar
  display: flex;
  align-items: center; // Centrado Vertical
  justify-content: center; // Centrado Horizontal
  z-index: 9999;
  pointer-events: none;
}

.feedback-card {
  // Diseño tipo Píldora Elegante
  background: var(--color-bg-deep); // Fondo oscuro corporativo
  border: 1px solid var(--color-accent); // Borde dorado corporativo
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3); // Sombra suave
  padding: 12px 24px; // Padding reducido
  border-radius: var(--radius-full); // Bordes totalmente redondeados

  display: flex;
  flex-direction: row; // Horizontal
  align-items: center;
  gap: 12px;

  min-width: auto; // Sin ancho mínimo forzado
  animation: slideUpFade 0.4s cubic-bezier(0.16, 1, 0.3, 1);
  pointer-events: auto;
}

.feedback-icon {
  width: 20px;
  height: 20px;
  background: transparent; // Sin fondo plasta
  border-radius: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--color-accent); // Icono dorado
  box-shadow: none;

  .material-symbols-rounded {
    font-size: 20px;
    font-weight: 600;
  }
}

.feedback-message {
  font-size: var(--font-size-sm);
  font-weight: 500;
  color: var(--color-text-primary);
  text-align: left;
  white-space: nowrap;
}

@keyframes slideUpFade {
  0% {
    opacity: 0;
    transform: translateY(20px);
  }

  100% {
    opacity: 1;
    transform: translateY(0);
  }
}