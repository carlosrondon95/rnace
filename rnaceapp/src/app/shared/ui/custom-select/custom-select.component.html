<div class="custom-select-container">
    @if (label) {
    <label class="select-label">{{ label }}</label>
    }

    <button #triggerButton type="button" class="select-trigger" [class.is-open]="isOpen()"
        (click)="toggleDropdown($event)" [attr.aria-expanded]="isOpen()">
        <span class="selected-value" [class.is-placeholder]="!value">{{ selectedLabel() }}</span>
        <span class="material-symbols-rounded arrow-icon">expand_more</span>
    </button>

    @if (isOpen() && dropdownPosition()) {
    <div class="dropdown-overlay" (click)="close()"></div>

    <div class="dropdown-menu" [style.top.px]="dropdownPosition()?.top" [style.left.px]="dropdownPosition()?.left"
        [style.width.px]="dropdownPosition()?.width">
        <div class="dropdown-scroll-content">
            @for (option of options; track option.value) {
            <button type="button" class="dropdown-item" [class.selected]="option.value === value"
                (click)="selectOption(option, $event)">
                {{ option.label }}
                @if (option.value === value) {
                <span class="material-symbols-rounded check-icon">check</span>
                }
            </button>
            }
        </div>
    </div>
    }
</div>